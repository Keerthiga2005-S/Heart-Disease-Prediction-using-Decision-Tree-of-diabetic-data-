# -*- coding: utf-8 -*-
"""Diabetic data.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/11Pff_eGhXvCqGgRBTCpXVvhVJytzsX_M
"""

import numpy as np
import pandas as pd
import matplotlib.pyplot as plt

data=pd.read_csv("diabetes (1).csv")

data.head()

data.isna().sum()

data.columns

data.shape

data.describe()

data.nunique()

data.info()

#data=data.drop('Insulin',axis=1)
#data

plt.scatter(data['Glucose'],data['Outcome'])



plt.plot(data['BMI'],color='red')

plt.hist(data['Age'])

plt.bar(data['BMI'],height=2)

plt.bar(data['BMI'],data['BloodPressure'])

plt.pie(data['Age'])

import seaborn as sns
sns.lineplot(data['Age'])

sns.scatterplot(x=data['Age'],y=data['Outcome'],data=data)

sns.distplot(data['Age'])

sns.displot(data['Age'])

sns.barplot(x=data['Pregnancies'],y=data['BMI'],data=data)

sns.boxplot(data['Age'])

sns.pairplot(data)

sns.pairplot(data,hue='Outcome')

sns.heatmap(data.corr(),annot=True)

x=data.iloc[:,0:8]
x

y=data['Outcome']
y

from sklearn.model_selection import train_test_split
xtrain,xtest,ytrain,ytest=train_test_split(x,y,test_size=0.20,random_state=42)

from sklearn.tree import DecisionTreeClassifier
model=DecisionTreeClassifier(criterion='entropy',max_depth=4)
model.fit(xtrain,ytrain)

y_pred=model.predict(xtest)
y_pred

from sklearn.metrics import accuracy_score
print(accuracy_score(ytest,y_pred))

from sklearn.tree import export_graphviz
import graphviz
graphviz.Source(export_graphviz(model,feature_names=x.columns,filled=True))

from sklearn.tree import plot_tree
plt.figure(figsize=(10,10))
plot_tree(model,filled=True,fontsize=6)